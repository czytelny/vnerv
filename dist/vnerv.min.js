"use strict";var vnerv=function(){function e(e){return"string"==typeof e||e instanceof String}function n(e){return"function"==typeof e}var r={},t="__root";return{on:function(a,c,o){var i,f,s=arguments.length;switch(s){case 0:throw Error("Channel and callback must be specified");case 1:throw Error("Channel and callback must be specified");case 2:if(e(c)||!e(a))throw Error("Channel and callback function must be specified");i=t,f=c;break;case 3:if(!(e(a)&&e(c)&&n(o)))throw Error("Channel, route and callback function must be specified");i=c,f=o}r[a]||(r[a]={}),r[a][i]||(r[a][i]=[]),r[a][i].push({callback:f})},off:function(n,a){var c=arguments.length;switch(c){case 0:throw Error("A channel must be specified");case 1:if(!e(n))throw Error("A channel cannot be an Object");break;case 2:if(!e(n))throw Error("A channel cannot be an Object")}"undefined"==typeof a&&delete r[n],e(a)&&delete r[n][a],"object"==typeof a&&a.defaultRoute===!0&&delete r[n][t]},send:function(n,t,a){var c,o,i=arguments.length,f=function(e){for(var n=0;n<e.length;n++)e[n].callback(o)};switch(i){case 0:throw Error("A channel must be specified");case 2:if(e(arguments[1])){c=arguments[1];break}o=arguments[1];break;case 3:c=t,o=a}if(r[n])if(c){var s=r[n][c];f(s)}else{var u=r[n];for(var l in u)u.hasOwnProperty(l)&&f(u[l])}},getEventBus:function(){return r},resetEventBus:function(){return r={}}}}();